<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.min.css">
  <title>Data Visualization</title>
</head>
<body>
  <h1>Data Visualization</h1>
  <h2>Hello, there!</h2>
  <ul>
    <li>
      <p>Our visualization project aims to examine the different factors that affect the sales of video games across multiple regions and generations.
      </p>
    </li>
    <li>
      <p>Available currently are 3 interactive different visualizations.</p>
    </li>
    <li>
      <h4>Helpful links</h4>
      <ul>
      <li>
        <a href="./vgsales.csv" target="_blank">Link to dataset</a>
      </li>
      <li>
        <a href="https://www.kaggle.com/gregorut/videogamesales" target="_blank"> Link to data source</a>
      </li>
    </ul>
    </li>
  </ul>
  <label> <h4>
    Select a visualization to view: 
  </h4></label>
  <ul>
    <li><a href="./bargraph.html"> bargraph</a></li>
    <li> <a href="./heatmap.html">heatmap </a></li>
    <li> <a href="./scatterplot.html"> Scatterplot</a></li>
</ul>
<br>
<h3>Top 100 Selling Video Games</h3>
  <body>
  </body>
  <script>
var tabulate = function (data,columns) {
  var table = d3.select('body').append('table')
	var thead = table.append('thead')
	var tbody = table.append('tbody')

	thead.append('tr')
	  .selectAll('th')
	    .data(columns)
	    .enter()
	  .append('th')
	    .text(function (d) { return d })

	var rows = tbody.selectAll('tr')
	    .data(data)
	    .enter()
	  .append('tr')

	var cells = rows.selectAll('td')
	    .data(function(row) {
	    	return columns.map(function (column) {
	    		return { column: column, value: row[column] }
	      })
      })
      .enter()
    .append('td')
      .text(function (d) { return d.value })

  return table;
}

d3.csv('./vgsales.csv').then((dataset) => {
	var columns = dataset.columns
  const data = dataset.slice(0,100)
  console.log(data)
  tabulate(data,columns)
})
  </script>
  </div>
</body>
</html>